/* full-screen-helper.js 1.0.0 | Copyright (c) 2017 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */
!function(a,b,c,d){"use strict";function z(a,b){if("function"==typeof a){if(!b)return void w.push(a);for(var c=[],d=w.length-1;d>=0;d--)w[d]===a&&c.push(d);for(var d=c.length-1;d>=0;d--)w.splice(c[d],1)}}function A(c){return c===d||c===a?a.body:!(b.HTMLElement&&!(c&&c instanceof b.HTMLElement&&c.ownerDocument===a))&&(!(!c||1!==c.nodeType||c.ownerDocument!==a)&&c)}function B(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function C(){return I()&&(b.outerWidth||b.innerWidth||e.clientWidth)==b.screen.width}function D(){var b=a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement;return!!b&&(b!==g&&(g=b),!0)}function E(){if(null!==i)return j;if(i===!1||"undefined"==typeof b.ActiveXObject)i=!1;else if(null===i)try{i=new b.ActiveXObject("WScript.Shell"),j=!0,B(b,"resize",H)}catch(a){i=!1}return j}function F(a){a=a||b.event,27==(a.wich||a.keyCode)&&O()}function G(){K(j?C():D())}function H(a){clearTimeout(h),h=setTimeout(G,j?100:10)}function I(){return!!e||(f=a.body,e=a.documentElement||f&&f.parentNode,!!e)}function J(b){return k||(k=!0,B(a,"keydown",F)),E()?void(C()||(g=b,K(!0),i.SendKeys("{F11}"))):(l=m,void(l&&N(b)))}function K(a){if(n!==a&&g){if(!I())return void(g=null);a?(u.test(e.className)||(e.className+=" fsh-infullscreen"),v.test(g.className)||(g.className+=" full-screen-helper")):(e.className=e.className.replace(u," "),g.className=g.className.replace(v," "),g=null),n=a,setTimeout(L,1)}}function L(){for(var a=0;a<w.length;a++)w[a]()}function M(){return y||E()}function N(a){if(a=A(a),!g&&a!==!1){if(o)a.requestFullscreen();else if(p)a.mozRequestFullScreen();else if(q)a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if(t)a.msRequestFullscreen();else if(!l)return void J(a);g=a,K(!0)}}function O(){if(o)a.exitFullscreen();else if(p)a.mozCancelFullScreen();else if(s)a.webkitExitFullscreen();else if(r)a.webkitCancelFullScreen();else if(t)a.msExitFullscreen();else if(!l)return void(C()&&j&&(K(!1),i.SendKeys("{F11}")));K(!1)}function P(a){g===a?O():N(a)}var e,f,g,h,i=null,j=!1,k=!1,l=!1,m=!0,n=!1,o=!!a.exitFullscreen,p=!!a.mozCancelFullScreen,q=!(!a.webkitExitFullscreen&&!a.webkitCancelFullScreen),r=!!a.webkitCancelFullScreen,s=!!a.webkitExitFullscreen,t=!!a.msExitFullscreen,u=/(^|\s+)fsh-infullscreen($|\s+)/i,v=/(^|\s+)full-screen-helper($|\s+)/i,w=[],x=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],y=o||p||q||t;if(y){for(var Q=x.length-1;Q>=0;Q--)B(a,x[Q],H);B(b,"resize",H)}if(b.FullScreenHelper={supported:M,request:N,toggle:P,exit:O,current:function(){return g},state:function(){return n},viewport:function(a){m=!!a},on:function(a){z(a)},off:function(a){z(a,!0)}},c&&c.extend&&c.expr&&(c.fn.fullScreenHelper=function(a){var b=this[0];if(b)switch(a){case"toggle":P(b);break;case"request":case d:N(b)}},c.fullScreenHelper=function(a){switch(a){case"exit":O();break;case"supported":return M();case"state":return n}},c.expr[":"].fullscreen=function(a){return v.test(a.className)},!("onfullscreenchange"in a))){var R=c(a);z(function(){R.trigger("fullscreenchange")})}}(document,window,window.jQuery);
